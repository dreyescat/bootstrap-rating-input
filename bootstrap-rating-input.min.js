(function(a){a.fn.rating=function(){var h;function b(o,i){var n=a(o).find("i[data-value="+i+"]");n.removeClass("glyphicon glyphicon-star-empty").addClass("glyphicon glyphicon-star");n.prevAll("i").removeClass("glyphicon glyphicon-star-empty").addClass("glyphicon glyphicon-star");n.nextAll("i").removeClass("glyphicon glyphicon-star").addClass("glyphicon glyphicon-star-empty")}function k(n){var i=a(n);i.find("i").removeClass("glyphicon glyphicon-star").addClass("glyphicon glyphicon-star-empty");i.find(".rating-clear").hide();i.find("input").val("").trigger("change")}for(h=this.length-1;h>=0;h--){var e,j,g,m=a(this[h]),l=m.data("max")||5,f=m.data("min")||0,c=m.data("clearable")||null,d="";for(j=f;j<=l;j++){d+=['<i class="glyphicon glyphicon-star-empty" data-value="',j,'"></i>'].join("")}if(c){d+=[' <a class="rating-clear" style="display:none;" href="javascript:void(0)"><i class="icon-remove"></i> ',c,"</a>"].join("")}e=['<div class="rating-input">',d,'<input type="hidden" name="',m.attr("name"),'" value="',m.val(),'" id="',m.attr("id"),m.prop("disabled")?'" disabled="disabled':"",'" />',"</div>"].join("");m.replaceWith(e)}a(".rating-input:not(:has(>input:disabled))").on("mouseenter","i",function(){var i=a(this);b(i.parent(),i.data("value"))}).on("mouseleave","i",function(){var i=a(this);var n=i.siblings("input").val();if(n){b(i.parent(),n)}else{k(i.parent())}}).on("click","i",function(){var i=a(this);var n=i.data("value");i.siblings("input").val(n).trigger("change");i.siblings(".rating-clear").show()}).on("click",".rating-clear",function(){k(a(this).parent())});a(".rating-input").each(function(){var i=a(this).find("input").val();if(i){b(this,i);a(this).find(".rating-clear").show()}})};a(function(){if(a("input.rating[type=number]").length>0){a("input.rating[type=number]").rating()}})}(jQuery));